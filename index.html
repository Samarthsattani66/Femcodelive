<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TEAMROHITOFFICIAL45 LIVE</title>

<link href="https://fonts.googleapis.com/css2?family=Oswald:wght@600;700&family=Poppins:wght@400;600&display=swap" rel="stylesheet">

<style>
body{
  margin:0;
  background:#0e0e0e;
  color:#fff;
  font-family:'Poppins',sans-serif;
}
header{
  position:fixed;
  top:0;left:0;right:0;
  height:70px;
  background:rgba(14,14,14,.9);
  backdrop-filter:blur(12px);
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:0 20px;
  z-index:1000;
}
.brand-main{
  font-family:'Oswald',sans-serif;
  color:gold;
  font-size:20px;
}
.brand-sub{
  font-size:12px;
  color:#ffcc00;
}
.search-input{
  position:absolute;
  top:80px;
  right:20px;
  width:0;
  opacity:0;
  transition:.4s;
  padding:10px 15px;
  border-radius:20px;
  background:#111;
  border:2px solid gold;
  color:#fff;
}
.search-input.active{
  width:220px;
  opacity:1;
}
.event-container{
  padding:90px 20px 20px;
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  gap:20px;
}
.event{
  width:360px;
  background:linear-gradient(145deg,#1e1e1e,#292929);
  border-radius:16px;
  overflow:hidden;
  border:1px solid rgba(255,215,0,.4);
  transition:.3s;
  position:relative;
}
.event:hover{
  transform:scale(1.04);
  box-shadow:0 0 20px rgba(255,215,0,.5);
}
.event img{
  width:100%;
  height:220px;
  object-fit:cover;
}
.event-content{
  padding:16px;
  text-align:center;
}
.teams{
  font-family:'Oswald',sans-serif;
  font-size:22px;
}
.league{
  font-size:13px;
  color:gold;
  margin:5px 0;
}
.time{
  font-size:12px;
  color:#aaa;
}
.btn-primary{
  display:block;
  margin-top:10px;
  padding:10px;
  background:linear-gradient(90deg,gold,#ffcc00);
  color:#111;
  text-decoration:none;
  border-radius:6px;
  font-weight:bold;
}
.live-badge{
  position:absolute;
  top:10px;
  left:10px;
  background:red;
  padding:4px 8px;
  font-size:12px;
  border-radius:4px;
}
.loader{
  position:fixed;
  inset:0;
  background:#0e0e0e;
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:2000;
  font-size:22px;
  color:gold;
}
</style>
</head>

<body>

<div class="loader" id="loader">Loading‚Ä¶</div>

<header>
  <div>
    <div class="brand-main">TEAMROHITOFFICIAL45</div>
    <div class="brand-sub">FEMCODE</div>
  </div>
  <button id="searchBtn">üîç</button>
  <input id="searchInput" class="search-input" placeholder="Search match">
</header>

<div class="event-container" id="events"></div>

<script>
const JSON_URL = "https://allinonereborn.online/fctest/json/fancode_latest.json";

async function fetchEvents(){
  try{
    const res = await fetch(JSON_URL);
    const data = await res.json();

    // JSON uses "matches"
    window.allEvents = data.matches || [];
    displayEvents(allEvents);

    document.getElementById("loader").style.display="none";
  }catch(e){
    document.getElementById("loader").innerText="Failed to load";
    console.error(e);
  }
}

function displayEvents(events){
  const box = document.getElementById("events");
  box.innerHTML = "";

  events.forEach(ev=>{
    const isLive = ev.status && ev.status.toLowerCase()==="live";

    // ‚úÖ JPG image from JSON
    const image = ev.src;

    // ‚úÖ M3U8 from JSON (priority adfree_url ‚Üí dai_url)
    const m3u8 = ev.adfree_url || ev.dai_url;

    box.innerHTML += `
      <div class="event">
        ${isLive ? `<div class="live-badge">LIVE</div>` : ""}
        <img src="${image}" alt="${ev.title || 'match'}">

        <div class="event-content">
          <div class="teams">${ev.team_1} vs ${ev.team_2}</div>
          <div class="league">${ev.event_name}</div>
          <div class="time">${ev.startTime}</div>

          ${
            m3u8
            ? `<a class="btn-primary" target="_blank"
                 href="https://teamrom3u8plyr2.pages.dev/?url=${encodeURIComponent(m3u8)}">
                 Watch Now</a>`
            : `<div class="btn-primary" style="background:gray">Coming Soon</div>`
          }
        </div>
      </div>
    `;
  });
}

document.getElementById("searchBtn").onclick=()=>{
  document.getElementById("searchInput").classList.toggle("active");
};

document.getElementById("searchInput").oninput=e=>{
  const v=e.target.value.toLowerCase();
  displayEvents(allEvents.filter(ev=>
    `${ev.team_1} ${ev.team_2} ${ev.event_name}`.toLowerCase().includes(v)
  ));
};

fetchEvents();
</script>

</body>
</html>
